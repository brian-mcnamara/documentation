---
# cSpell:ignore pygpgme makecache disablerepo enablerepo

title: Run Pomerium Enterprise With Docker
sidebar_label: Quickstart
description: Demo Pomerium Enterprise
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HAConfig from '../../../../examples/enterprise/hosted-auth-config.yaml.md'
import HACompose from '../../../../examples/enterprise/hosted-auth-docker.yaml.md'

# Run Pomerium Enterprise With Docker

Run Pomerium Enterprise using Docker Compose and Pomerium's Hosted Authenticate Service.

If you use our hosted authenticate service, you can complete this quickstart in **less than 5 minutes**.

If you still want to self-host Pomerium, see the Self-Hosted Authenticate Service docs.

## Prerequisites

To complete this guide, you need:

- Pomerium Core
- [Docker](https://docs.docker.com/get-docker/) and [Docker Compose](https://docs.docker.com/compose/install/)
- PostgreSQL
- Prometheus

This guide runs Pomerium Core, PostgreSQL, and Prometheus as Docker containers.

To complete this guide, you should first complete the [Pomerium Core quickstart](/docs/quickstart) guide.

## Configure Pomerium Core

If you haven't, create a file called `config.yaml` and add the following code:

<HAConfig />

Replace `user@example.com` with your email address.

## Configure Pomerium Enterprise Console

:::tip **Note**

This guide assumes you've already registered for Pomerium Enterprise and have credentials to access the private Cloudsmith.io Docker registry, and a license key. If you haven't registered for Pomerium Enterprise, [sign up here](https://www.pomerium.com/enterprise-sales/) for a free trial.

:::

Create a file called `console-config.yaml` and update the following values:

```title="console-config.yaml"
administrators: admin@example.com
license_key: REPLACE_ME
```

You must configure at least one administrator for console access. This user (or users) can then configure additional administrators in the console UI. Multiple administrators are defined as a comma-separated string.

## Configure Docker Compose services

Create a file called `docker-compose.yaml` in your project's root folder and add the configuration below:

<HACompose />

Next, you need to update your [signing key](/docs/reference/signing-key):

```shell
# Generates a P-256 (ES256) signing key
openssl ecparam  -genkey  -name prime256v1  -noout  -out ec_private.pem
# Prints the base64-encoded value of the signing key
cat ec_private.pem | base64
```

Add the base64-encoded signing key to the `SIGNING_KEY` variables in your `docker-compose.yaml` file. The same signing key should be used in your `pomerium` and `pomerium_console` services.

Below are a few points to note about services running in `docker-compose.yaml`:

- `pomerium_console` exposes ports `8701` and `9090`. In your `config.yaml` file, you define port `8701` in a route that connects to the Pomerium Enterprise Console. Port `9090` is the [default port](https://prometheus.io/docs/introduction/first_steps/#configuring-prometheus) used by Prometheus to scrape metrics.
- The healthcheck parameter ensures the database is ready to receive requests. Without a healthcheck, other containers that depend on the database service (like Pomerium Console) will attempt to connect to the database before it is in a ready state, **which will crash the container**. (See the [Docker healthcheck](https://docs.docker.com/engine/reference/builder/#healthcheck) docs for more information.)

## Connect to Pomerium Enterprise Console

Run `docker compose up`.

Go to `https://console.localhost.pomerium.io` to access your Console.
